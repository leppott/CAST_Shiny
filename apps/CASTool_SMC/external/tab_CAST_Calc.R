function(){
  tabPanel("CASTool-Calc"
           
           # sidebarLayout ####
           # Sidebar with a slider input for number of bins 
           , sidebarLayout(
              sidebarPanel(
               # uiOutput("URL_Shiny_Map") # works but not as nice as a straight link
               # , p("Dir_input = .Data")
               # , p("dir_output = .Results")
               # , p("Input and output folders are show below.")
               # , p("To change click the buttons below before choosing a station.")
               # , verbatimTextOutput("dir_user_input_path")
               #     , shinyDirButton('dir_user_input', 'Input directory', 'Select the folder with input files')
               # , shinyDirButton("directory", "Folder select", "Please select a folder")
               
               # , verbatimTextOutput("directorypath")
               
               #, p(file.path(".", "Data"))
               #      , shinyDirButton('dir_user_output', 'Output directory', "Select the folder to contain 'Results' subfolder")
               
               #, p(file.path("."))
               #, hr()
                h4("User Selection:")
                
                , p("If Station ID is not known then click the map tab above to find your desired Station ID.")
                #, p("Station ID selection from map appears below.")
                , p(textOutput("Selected_StationIDfromMap"))
                
              , selectInput("Station"
                            , label = "Choose a Station ID below for which to generate outputs."
                            , choices = c(targ_SiteID, mySites)
                            , selected = targ_SiteID[1]
              )

               
               , hr()
               , p("Plot are not generated by default to save on run time.")
               , p("If you wish for plots to be generated check the box below.")
               , checkboxInput("usePlots", "Generate plots", value = FALSE)
               , hr()
               #
               # , selectInput("BioComm"
               #               , label = "Choose biological community"
               #               , choices = c("bmi", "algae")
               #               , selected = "bmi")
               , p("Click the button below to generate outputs.")
               , p("After clicking the button results will appear to the right in tabs by output type.")
               , actionButton("b_RunAll", "Calculate Results")
               
               , hr()
               
               #, textOutput("boo_zip")
              , p("Click the buttons below to download the Results Summary Report or zip file of all result outputs.")
              , p("The buttons will not be active until results are ready.")
              , br()
              , useShinyjs() # doesn't work unless in include this line (even though it is in UI.R)
              , shinyjs::disabled(downloadButton("b_downloadSummary", "Downlad Results, Summary Report"))
              , br()
              , br()
              # , useShinyjs() # doesn't work unless in include this line (even though it is in UI.R)
               , shinyjs::disabled(downloadButton("b_downloadData", "Download Results, All (zip)"))
               
               # set size of sidebar (out of 12)
               #, width=3 # can invoke "ERROR: [uv_write] broken pipe"
             )##sidebarPanel~END
             
             # mainPanel ####
             # Show a plot of the generated distribution
             , mainPanel(
               # tabsetPanel ####
               tabsetPanel(id = "tsp_Main"
                           # 0.0
                           , tabPanel(title = "Console", value = "pan_console"
                                      , h3("Console")
                                      , p("During the running of the tool any messages or warnings that would be displayed in the R console
                                          are displayed below.")
                                      ,p("In addition to any text below there is a progress bar in the lower right.")
                                      , textOutput("text_console_ALL")
                           )##tabPanel~Console~END
       #               , tabPanel("Plot Key", value = "pan_legends"
       #                          , h3("Legend Key")
       #                          #, p("Screening tool...and key for plots.")
       #                          #, uiOutput("Disclaimer_html")
       # #                         , includeHTML(file.path(".", "www", "Legend_Key.html"))
       #                          #, htmlOutput("LegKey_html")
       #                          , fluidRow(htmlOutput("LegKey_html"))
       #               )##tabPanel~Disclaimer~END
                     # # 0.5

                           # 2
                           # , tabPanel("Results"
                           #            , h3("Results Download")
                           #            , p("Use the button in the left side bar to save the Results as a single zip file.")
                           #            , br()
                           #            , p("If want to run a 2nd site you must not have 'results' page active ")
                           #            , p("and need to download results prior to selecting a new site.")
                           #            , p("If get an error will need to reload the app (i.e., F5 or reload button in browser).")
                           #              # , fluidRow(htmlOutput("LegKey_html"))
                           #           # , fluidRow(htmlOutput("help_html"))
                           #           , fluidRow(htmlOutput("Results_html"))
                           #            )##tabPanel~Results~END
                           #  # 3.1, SiteInfo
                           #  , tabPanel("Site Info"
                           #           , h3("Map")
                           #           , p("If the data exists it will be displayed below.")
                           #           # , textOutput("StationID")
                           #           # , textOutput("fn_Map")
                           #           # , textOutput("fe_Map")
                           #           # , p("Advanced options = none")
                           #           #, actionButton("Create01Map", "Create Map")
                           #           , textOutput("text_console_Map")
                           #           #, includeHTML(file.path(".", "Results", "SRCKN001.61", "SiteInfo", paste0("SRCKN001.61", ".map.leaflet.html")))
                           #           #, includeHTML(output$fn_Map)
                           #           #, uiOutput("Map_html")
                           #           , htmlOutput("Map_html")
                           #           # check MBSS shiny app for ideas on how to display reactively
                           #           )##tabPanel~Site Info~END
                           #  # 3.2,
                           #  , tabPanel("Cluster Info"
                           #             , h3("Cluster Info")
                           #            # , imageOutput("img_Cluster")
                           #            , p("Advanced options = TBD")
                           #           # , actionButton("Create02ClusterInfo", "Create Cluster Info")
                           #            , textOutput("txt_console_Cluster")
                           #             )##tabPanel~Cluster Info~END
                           #  # 3.3, CandidateCauses
                           #  , tabPanel("Candidate Causes"
                           #             , h3("Candidate Causes")
                           #            # , p("Advanced options = probsLow, probsHigh, biocomm")
                           #            # , actionButton("Create03CandidateCauses", "Create Candidate Causes")
                           #             , textOutput("txt_console_Candidate")
                           #             )##tabPanel~Candidate Causes~END
                           #  # 3.4, CoOccurrence
                           #  , tabPanel("Co-Occurrence"
                           #             , h3("Co-Occurrence")
                           #             #, p("Advanced options = Bio, Stressors, biocomm, index labels and break points")
                           #             #, actionButton("Create04CoOccur", "Create Co-Occurrence")
                           #             , textOutput("txt_console_CoOccur")
                           #             )##tabPanel~Co-Occurrence~END
                           #  # 3.5, StressorResponse
                           #  , tabPanel("Stressor Response"
                           #             , h3("Stressor Response")
                           #            # , p("Advanced options = probsLow, probsHigh, biocomm, BioResp")
                           #            # , actionButton("Create05BioStressorResponses", "Create Stressor Responses")
                           #             , textOutput("txt_console_SR")
                           #             )##tabPanel~Stressor Response~END
                           #  # 3.6, VerifiedPredictions
                           #  , tabPanel("Verified Predictions"
                           #             , h3("Verified Predictions")
                           #            # , p("Advanced options = TBD")
                           #            # , actionButton("Create06VerifiedPredictions", "Create Verified Predictions")
                           #             , textOutput("txt_console_VP")
                           #            )##tabPanel~Verified Predictions~END
                           #  # 3.7, TimeSequence
                           #  , tabPanel("Time Sequence"
                           #             , h3("Time Sequence")
                           #            # , p("Advanced options = TBD")
                           #             # , actionButton("Create06VerifiedPredictions", "Create Verified Predictions")
                           #             , textOutput("txt_console_VP")
                           #            )##tabPanel~Time Sequence~END
                           #  # 3.8, WoE
                           #  , tabPanel("Weight of Evidence"
                           #             , h3("Weight of Evidence")
                           #            # , p("Advanced options = TBD")
                           #             # , actionButton("Create06VerifiedPredictions", "Create Verified Predictions")
                           #             , textOutput("txt_console_VP")
                           #            )##tabPanel~WoE~END

               )##tabsetPanel~END
             )##mainPanel~END
           )##sidebarLayout~END
           
  )##tabPanel~END
}##FUNCTION~END
